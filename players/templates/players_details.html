{% load static %}
<!DOCTYPE html>
<html>
<head>
  <title>All Registrations</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}">
</head>
<body class="bg-light">
  <div class="container mt-5">
    <h2 class="mb-4 text-center">All Tournament Registrations</h2>

    <div class="text-end mb-3">
      <a href="{% url 'download_all_registrations_pdf' %}" class="btn btn-primary">Download All as PDF</a>
    </div>

    <table class="table table-bordered table-striped">
      <thead class="table-dark">
        <tr>
          <th>#</th>
          <th>Player</th>
          <th>Phone</th>
          <th>Email</th>
          <th>Category</th>
          <th>Partner 1</th>
          <th>Partner 2</th>
        </tr>
      </thead>
      <tbody>
        {% for r in registrations %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ r.player_name }}</td>
          <td>{{ r.phone_number }}</td>
          <td>{{ r.player_email }}</td>
          <td>{{ r.category }}</td>
          <td>
            {% if r.partner1_name %}
              {{ r.partner1_name }}<br>
              {{ r.partner1_phone }}<br>
              {{ r.partner1_email }}
            {% endif %}
          </td>
          <td>
            {% if r.partner2_name %}
              {{ r.partner2_name }}<br>
              {{ r.partner2_phone }}<br>
              {{ r.partner2_email }}
            {% endif %}
          </td>
        </tr>
        {% empty %}
        <tr><td colspan="7" class="text-center">No registrations found.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</body>
</html>
